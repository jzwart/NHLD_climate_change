target_default: 1_data

include:
  - lib.yml

file_extensions:
  - feather
  - ind

sources:
  - 1_data/src/aggregate_model_runs.R

targets:

  1_data:
    depends:
      - 1_data/out/scenarios.rds.ind
      - 1_data/out/retro.rds.ind

  1_data/out/scenarios.rds.ind:
    command: agg_future_scenarios(
      ind_file=target_name,
      gd_config='lib/cfg/gd_config.yml')
  1_data/out/scenarios.rds:
    command: gd_get('1_data/out/scenarios.rds.ind', config_file='lib/cfg/gd_config.yml')
    
  1_data/out/retro.rds.ind:
    command: agg_retro(
      ind_file=target_name,
      gd_config='lib/cfg/gd_config.yml')
  1_data/out/retro.rds:
    command: gd_get('1_data/out/retro.rds.ind', config_file='lib/cfg/gd_config.yml')
