target_default: 6_plot

packages:
  - ggplot2
  - grid

include:
  - lib.yml

file_extensions:
  - feather
  - ind

sources:
  - 6_plot/src/fig_delta.R
  - 6_plot/src/fig_boxplot_theme.R

targets:

  2_analysis:
    depends:
      - 2_analysis/out/doc.rds
      - 2_analysis/out/stage.rds
      - 2_analysis/out/pco2.rds
      - 2_analysis/out/emit_areal.rds
      - 2_analysis/out/emit.rds
      - 2_analysis/out/area.rds
      - 2_analysis/out/fhee.rds
      - 2_analysis/out/bury.rds
      - 2_analysis/out/bury_areal.rds
      - 2_analysis/out/doc_loads.rds
      - 2_analysis/out/tp_loads.rds
      - 2_analysis/out/zmix.rds
      - 2_analysis/out/sw_in.rds
      - 2_analysis/out/gw_out.rds
      - 2_analysis/out/gw_in.rds
      - 2_analysis/out/sw_out.rds
      - 2_analysis/out/evap.rds
      - 2_analysis/out/precip.rds
      - 2_analysis/out/hrt.rds
      - 2_analysis/out/gpp.rds
      - 2_analysis/out/vol_epi.rds
      - 2_analysis/out/ph.rds
      - 2_analysis/out/ice_dur.rds
      - 2_analysis/out/water_in.rds
      - 2_analysis/out/water_out.rds
      - 2_analysis/out/vol.rds
      - 2_analysis/out/kd.rds
      - 2_analysis/out/dic_loads.rds
      - 2_analysis/out/d_epi.rds
      - 2_analysis/out/doc_resp.rds
      - 2_analysis/out/doc_resp_vol.rds
      - 2_analysis/out/dic_v_resp.rds

  2_analysis/out/doc.rds:
    command: gd_get('2_analysis/out/doc.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/stage.rds:
    command: gd_get('2_analysis/out/stage.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/pco2.rds:
    command: gd_get('2_analysis/out/pco2.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/emit_areal.rds:
    command: gd_get('2_analysis/out/emit_areal.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/emit.rds:
    command: gd_get('2_analysis/out/emit.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/area.rds:
    command: gd_get('2_analysis/out/area.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/fhee.rds:
    command: gd_get('2_analysis/out/fhee.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/bury.rds:
    command: gd_get('2_analysis/out/bury.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/bury_areal.rds:
    command: gd_get('2_analysis/out/bury_areal.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/doc_loads.rds:
    command: gd_get('2_analysis/out/doc_loads.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/tp_loads.rds:
    command: gd_get('2_analysis/out/tp_loads.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/zmix.rds:
    command: gd_get('2_analysis/out/zmix.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/sw_in.rds:
    command: gd_get('2_analysis/out/sw_in.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/gw_out.rds:
    command: gd_get('2_analysis/out/gw_out.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/gw_in.rds:
    command: gd_get('2_analysis/out/gw_in.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/evap.rds:
    command: gd_get('2_analysis/out/evap.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/precip.rds:
    command: gd_get('2_analysis/out/precip.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/hrt.rds:
    command: gd_get('2_analysis/out/hrt.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/gpp.rds:
    command: gd_get('2_analysis/out/gpp.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/vol_epi.rds:
    command: gd_get('2_analysis/out/vol_epi.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/ph.rds:
    command: gd_get('2_analysis/out/ph.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/ice_dur.rds:
    command: gd_get('2_analysis/out/ice_dur.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/water_in.rds:
    command: gd_get('2_analysis/out/water_in.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/water_out.rds:
    command: gd_get('2_analysis/out/water_out.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/vol.rds:
    command: gd_get('2_analysis/out/vol.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/kd.rds:
    command: gd_get('2_analysis/out/kd.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/dic_loads.rds:
    command: gd_get('2_analysis/out/dic_loads.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/d_epi.rds:
    command: gd_get('2_analysis/out/d_epi.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/doc_resp.rds:
    command: gd_get('2_analysis/out/doc_resp.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/doc_resp_vol.rds:
    command: gd_get('2_analysis/out/doc_resp_vol.rds.ind', config_file='lib/cfg/gd_config.yml')
  2_analysis/out/dic_v_resp.rds:
    command: gd_get('2_analysis/out/dic_v_resp.rds.ind', config_file='lib/cfg/gd_config.yml')

  6_plot:
    depends:
      - 6_plot/out/fig_doc_delta.png.ind
      - 6_plot/out/fig_stage_delta.png.ind
      - 6_plot/out/fig_pco2_delta.png.ind
      - 6_plot/out/fig_emit_areal.png.ind
      - 6_plot/out/fig_emit.png.ind
      - 6_plot/out/fig_area.png.ind
      - 6_plot/out/fig_fhee.png.ind
      - 6_plot/out/fig_bury.png.ind
      - 6_plot/out/fig_bury_areal.png.ind
      - 6_plot/out/fig_doc_loads.png.ind
      - 6_plot/out/fig_tp_loads.png.ind
      - 6_plot/out/fig_zmix.png.ind
      - 6_plot/out/fig_sw_in.png.ind
      - 6_plot/out/fig_gw_out.png.ind
      - 6_plot/out/fig_gw_in.png.ind
      - 6_plot/out/fig_sw_out.png.ind
      - 6_plot/out/fig_evap.png.ind
      - 6_plot/out/fig_precip.png.ind
      - 6_plot/out/fig_hrt.png.ind
      - 6_plot/out/fig_gpp.png.ind
      - 6_plot/out/fig_vol_epi.png.ind
      - 6_plot/out/fig_ph.png.ind
      - 6_plot/out/fig_ice_dur.png.ind
      - 6_plot/out/fig_vol.png.ind
      - 6_plot/out/fig_water_in.png.ind
      - 6_plot/out/fig_water_out.png.ind
      - 6_plot/out/fig_kd.png.ind
      - 6_plot/out/fig_dic_loads.png.ind
      - 6_plot/out/fig_d_epi.png.ind
      - 6_plot/out/fig_doc_resp.png.ind
      - 6_plot/out/fig_doc_resp_vol.png.ind
      - 6_plot/out/fig_dic_v_resp.png.ind

  6_plot/out/fig_doc_delta.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/doc.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_stage_delta.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/stage.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_pco2_delta.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/pco2.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_emit_areal.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/emit_areal.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_emit.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/emit.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_area.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/area.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_fhee.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/fhee.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_bury.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/bury.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_bury_areal.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/bury_areal.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_doc_loads.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/doc_loads.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_tp_loads.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/tp_loads.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_zmix.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/zmix.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_sw_in.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/sw_in.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_gw_out.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/gw_out.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_gw_in.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/gw_in.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_sw_out.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/sw_out.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_evap.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/evap.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_precip.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/precip.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_hrt.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/hrt.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_gpp.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/gpp.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_vol_epi.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/vol_epi.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_ph.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/ph.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_vol.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/vol.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_ice_dur.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/ice_dur.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_water_in.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/water_in.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_water_out.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/water_out.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_kd.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/kd.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_dic_loads.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/dic_loads.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_d_epi.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/d_epi.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_doc_resp.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/doc_resp.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_doc_resp_vol.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/doc_resp_vol.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')

  6_plot/out/fig_dic_v_resp.png.ind:
    command: fig_delta(
      fig_ind = target_name,
      var_cfg_file = '2_analysis/cfg/dic_v_resp.yml',
      fig_cfg_yml = '6_plot/cfg/fig_config.yml',
      var_lookup_yml = I('6_plot/cfg/var_lookup.yml'),
      remake_file = I('6_plot.yml'),
      gd_config = 'lib/cfg/gd_config.yml')
